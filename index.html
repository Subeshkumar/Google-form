<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Registration-Form</title>
</head>
<body>

<div class="container">
    <form action="./exam.html" autocomplete="off" method="post" name="google-sheet">
        <h2>Registration form</h2>
    
        <div class="data">
            <div>    
                <label>Roll number</label>
                <input type="number" name="Roll-number" required min="1" step="1" title="Please enter a valid roll number.">
            </div>
            <div>    
                <label>Candidate Name</label>
                <input type="text" name="Candidate-name" required>
            </div>
            <div>    
                <label>Date of Birth</label>
                <input type="date" name="Date-of-Birth" required>
            </div>
            <div>    
                <label>Email</label>
                <input type="email" name="Email" required>
            </div>
            <div>    
                <label>Mobile Number</label>
                <input type="number" name="Mobile-Number" required>
            </div>
            <div>    
                <label>Course</label>
                <select name="Course" required>
                    <option value="Not selected">Select course</option>
                    <option value="Computer science and engineering">Computer science and engineering</option>
                    <option value="Artificial intelligence">Artificial intelligence</option>
                    <option value="Machine Learning">Machine Learning</option>
                    <option value="Internet of Things">Internet of Things</option>
                </select>
            </div>
            <div>    
                <label>Year</label>
                <select name="Year" required>
                    <option value="Not selected">Year</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
            <div>
                <label>Gender</label>
                <div class="form-inline">
                    <label>
                       Male<input type="radio" name="gender" value="Male">
                    </label>
                    <label>
                       Female<input type="radio" name="gender" value="Female">
                    </label>
                </div>
            </div>
        </div>
        <div>
            <input type="submit" name="submit" value="SUBMIT">
        </div>
        
    </form>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbypxiDNLEvHMyjHoFums8ip_7KjIaUAai5G-yUHfecC0JDe4r6mi0mqLxugG7h4hguI/exec';
    const form = document.forms['google-sheet'];

    form.addEventListener('submit', e => {
        e.preventDefault();
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(response => window.location.href = "./exam.html")
            .catch(error => console.error('Error!', error.message));
    });
</script>

</body>
</html>
